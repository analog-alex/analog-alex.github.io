<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>analog-alex</title>
  <link rel="stylesheet" href="{{ get_url(path="style.css", cachebust=true) }}">
  <link rel="stylesheet" href="{{ get_url(path="list.css", cachebust=true) }}">
  <link rel="stylesheet" href="{{ get_url(path="blog-page.css", cachebust=true) }}">
  <script>
    // function that checks for the user preference for a dark mode
    var checkForPreference = () => {
      return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
    }

    // function that sets SASS values and icons color depending on the preference -- boolean 'dark'
    var setTheme = (dark) => {
      icons = ['icon1', 'icon2', 'icon3', 'icon4', 'icon5', 'icon6']

      if (dark) {
        document.documentElement.setAttribute('data-theme', 'dark');
        icons.forEach(x => {
          document.getElementById(x).setAttribute( "class", "icon-dark");
        });
      } else {
        document.documentElement.setAttribute('data-theme', 'light');
        icons.forEach(x => {
          document.getElementById(x).setAttribute( "class", "icon-light");
        });
      }
    }

    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
        setTheme(event.matches);
    });

    // first thing is to set the theme, either light of dark mode
    window.addEventListener('load', function () {
      setTheme(checkForPreference())
    });
  </script>
</head>

<body>
  <header class="header">
    <span class="banner"><a class="banner-link" href="/">Analog Alex</a></span>
    <p class="subbanner">Regular Updates</p>
  </header>
  <section class="container">
    {% block content %} {% endblock %}
  </section>
  <footer class="footer">
    <hr/>
    <p class="info-text">Made by <strong>Miguel Alexandre</strong></p>
    <p class="info-text">Powered by <a href="https://www.getzola.org/">Zola</a> · ❤️ static websites</p>
    <p class="info-text">@2022</p>
  </footer>
</body>

</html>